* {
    box-sizing: border-box;
}

/* Page background like screenshot 2 */
body {
    margin: 0;
    min-height: 100vh;
    background: radial-gradient(1000px 600px at 70% 30%, rgba(134,167,129,0.35) 0%, rgba(93,128,87,0.2) 40%, rgba(9,21,48,0) 70%),
                linear-gradient(180deg, #f7fbf7 0%, #ebf5eb 35%, #e5f0e5 100%);
    color: #2a3a2a;
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.demo-page { padding: 40px; }
.demo-copy h1 { margin: 0 0 8px 0; font-weight: 700; }
.demo-copy p { margin: 0; opacity: 0.85; }

/* Widget Container */
.rag-chatbot-widget {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 420px;
    max-height: 640px;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 12px 32px rgba(37, 69, 35, 0.15);
    z-index: 10000;
    display: none;
    flex-direction: column;
    overflow: hidden;
    border: 1px solid rgba(53,94,59,0.12);
}

.rag-chatbot-widget.open { display: flex; }

/* Toggle */
.rag-chatbot-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 64px;
    height: 64px;
    background: #6fb36d;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 10px 24px rgba(67,132,62,0.35);
    z-index: 10001;
    transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    border: 2px solid #fff;
    animation: pulse 2s infinite;
}

.@keyframes pulse { }
.rag-chatbot-toggle:hover { transform: translateY(-2px) scale(1.05); background:#5aa458; box-shadow:0 14px 32px rgba(67,132,62,.35);}    
.rag-chatbot-toggle svg { width: 28px; height: 28px; fill: #fff; }

/* Header */
.rag-chatbot-header {
    background: linear-gradient(180deg, #78c275 0%, #5aa458 100%);
    color: #ffffff;
    padding: 18px 16px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.rag-chatbot-header-content { display:flex; align-items:center; gap:12px; }
.rag-chatbot-avatar { width:44px; height:44px; border-radius:50%; background:rgba(255,255,255,.2); display:flex; align-items:center; justify-content:center; }
.rag-chatbot-avatar img { width:32px; height:32px; object-fit:contain; animation: avatar-bob 2.4s ease-in-out infinite; will-change: transform; }
.rag-chatbot-avatar:hover img { animation-play-state: paused; }
@keyframes avatar-bob { 0% { transform: translateY(0); } 50% { transform: translateY(-3px); } 100% { transform: translateY(0); } }
.rag-chatbot-title { font-size:15px; font-weight:700; margin:0; font-family: 'Montserrat', sans-serif; }
.rag-chatbot-subtitle { margin:2px 0 0 0; font-size:12px; opacity:.95; display:flex; align-items:center; gap:6px; }
.status-dot { width:8px; height:8px; border-radius:50%; background:#97e199; display:inline-block; box-shadow:0 0 0 2px rgba(124,252,138,.25);} 
.rag-chatbot-close { background:none; border:none; color:#fff; cursor:pointer; padding:6px; border-radius:8px; }
.rag-chatbot-close:hover { background: rgba(255,255,255,.15); }

/* Messages */
.rag-chatbot-messages {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
    max-height: 440px;
    background: radial-gradient(800px 400px at 30% 0%, rgba(111,179,109,0.08) 0%, rgba(111,179,109,0.02) 60%, rgba(0,0,0,0) 100%), #ffffff;
}
.rag-chatbot-message { margin-bottom: 12px; display:flex; }
.rag-chatbot-message.user { justify-content: flex-end; }
.rag-chatbot-message-content { max-width: 80%; padding: 12px 16px; border-radius: 14px; font-size: 14px; line-height: 1.45; }
.rag-chatbot-message.bot .rag-chatbot-message-content { background:#f0f7f0; color:#2a3a2a; border:1px solid rgba(53,94,59,0.12);} 
.rag-chatbot-message.user .rag-chatbot-message-content { background:#6fb36d; color:#fff; box-shadow:0 8px 20px rgba(67,132,62,.25);} 

.rag-chatbot-typing { display:none; align-items:center; gap:8px; padding:10px 14px; background:#eaf6ea; border-radius:14px; border:1px solid rgba(53,94,59,0.12); max-width:88px; }
.rag-chatbot-typing.show { display:flex; }
.rag-chatbot-typing-dots { display:flex; gap:4px; }
.rag-chatbot-typing-dot { width:6px; height:6px; background:#a9c4ff; border-radius:50%; animation: typing 1.4s infinite ease-in-out; }
.rag-chatbot-typing-dot:nth-child(1){ animation-delay:-.32s; }
.rag-chatbot-typing-dot:nth-child(2){ animation-delay:-.16s; }
@keyframes typing { 0%,80%,100%{ transform:scale(.8); opacity:.6;} 40%{ transform:scale(1); opacity:1; } }

/* Input */
.rag-chatbot-input { padding: 14px; border-top: 1px solid rgba(53,94,59,0.12); background: rgba(255,255,255,0.85); backdrop-filter: blur(8px); }
.rag-chatbot-input-container { display:flex; gap:8px; align-items:center; background:#ffffff; border:1px solid rgba(53,94,59,0.18); border-radius: 22px; padding: 8px 12px; }
.rag-chatbot-input-field { flex:1; min-width:0; border:none; background:transparent; outline:none; color:#2a3a2a; font-size:14px; font-family: 'Poppins', sans-serif; }
.rag-chatbot-input-field::placeholder { color:#6c8b6b; }
.rag-chatbot-voice-btn, .rag-chatbot-send-btn { background:none; border:none; padding:6px; border-radius:50%; cursor:pointer; display:flex; align-items:center; justify-content:center; transition: background .2s ease; }
.rag-chatbot-voice-btn:hover, .rag-chatbot-send-btn:hover { background: rgba(111,179,109,0.12); }
.rag-chatbot-send-btn.active { background:#6fb36d; }
.rag-chatbot-send-btn.active svg { fill:#fff; }

/* Footer */
.rag-chatbot-footer { padding: 10px 14px; background:#ffffff; border-top:1px solid rgba(53,94,59,0.12); text-align:center; font-size:11px; color:#3b5a3b; }
.rag-chatbot-footer a { color:#5aa458; text-decoration:none; }

/* Responsive */
@media (max-width: 768px) {
    .rag-chatbot-widget { left:0; right:0; bottom:0; width:100%; max-height: 78vh; border-radius: 16px 16px 0 0; }
}

/* Tighten input layout on very small screens to avoid overlap */
@media (max-width: 480px) {
    .rag-chatbot-input { padding: 10px; }
    .rag-chatbot-input-container { gap:6px; padding:6px 8px; }
    .rag-chatbot-input-field { font-size:13px; }
    .rag-chatbot-voice-btn, .rag-chatbot-send-btn { width:36px; height:36px; padding:0; flex: 0 0 36px; }
    .rag-chatbot-voice-btn svg, .rag-chatbot-send-btn svg { width:18px; height:18px; }
}



